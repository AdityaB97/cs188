{"start":[1000,1530,6310,7600,9550,13710,15780,16990,23420,27490,32479,35390,40140,43490,48230,51430,55330,56910,59760,60880,67640,73740,78300,82370,86280,92140,96170,99780,100980,104560,105690,110510,114840,119360,123090,127400,128880,133300,137700,138600,140170,143220,146040,148110,150080,152780,154720,156240,163450,168180,173540,179870,183470,186290,194510,200710,206430,210420,213300,215040,216850,224880,227750,232620,236250,241130,244170,249100,255750,258380,261700,266560,270670,274460,276560,278520,283610,289200,290860,295790,301360,304920,309370,314870,318510,322080,326800,330070,338390,343320,344610,348680,351960,354010,355890,359270,364880,370450,375430,377760,380120,382250,387210,389340,395940,400200,404450,408110,412350,415010,419020,423820,425590,428730,430360,433820,438450,442930,446470,450100,454900,456370,461820,464790,469250,471480,474900,479390,488100,489600,493580,493950,495590,500220,505450,509720,510680,511490,513860,516800,522020,525260,527570,531840,534120,537860,542750,549210,553380,558580,561140,563210,567230,571380,574190,577310,581740,585650,589860,596150,597650,608660,615230,616550,622010,626960,630140,631890,635220,644140,648880,652760,659530,660210,662200,665760,670370,671770,677490,682850,685740,689240,692980,696760,699820,706150,710650,715980,718160,721280,726270,731660,736390,738140,740340,747260,750680,751600,752910,759610,763040,764680,766870,770950,774590,775850,778420,780730,783070,789480,792610,795340,796680,798660,803800,804830,808960,810270,817550,821190,825090,827270,834370,837840,841110,843030,846950,850920,854620,861520,866130,871320,874240,877680,880160,881680,883870,886130,890660,894970,898800,902710,906950,910870,911830,915140,917990,920940,922980,925160,926330,928230,929270,930020,935300,936710,938790,944410,948190,951640,953540,957260,958320,963670,964860,968990,974030,975410,978810,980650,984640,986650,989100,991310,994370,996510,998540,1001970,1006710,1015590,1017060,1018370,1024610,1032340,1035320,1036660,1039690,1042700,1049140,1051400,1056290,1058420,1059160,1062640,1066500,1069090,1071350,1078470,1081340,1085110,1088910,1095510,1097730,1101760,1102770,1103300,1108910,1111700,1114700,1116460,1119030,1122890,1126230,1128980,1129740,1132890,1136420,1140020,1142980,1143960,1146020,1150070,1151120,1153850,1158000,1161260,1166080,1171710,1172580,1181110,1183460,1185250,1188480,1192780,1195050,1199500,1204730,1206240,1214350,1216300,1220060,1224690,1225720,1228620,1232110,1235750,1243870,1245040,1248140,1253690,1258040,1260660,1267210,1270650,1272690,1276490,1279400,1285240,1288540,1291630,1297590,1301850,1305250,1307790,1309520,1310470,1311770,1316880,1317150,1318430,1320600,1323860,1324700,1329250,1332040,1332760],"end":[1530,6310,7600,9550,13710,15780,16990,23420,27490,32479,35390,40140,43490,48230,51430,55330,56910,59760,60880,67640,73740,78300,82370,86280,92140,96170,99780,100980,104560,105690,110510,114840,119360,123090,127400,128880,133300,137700,138600,140170,143220,146040,148110,150080,152780,154720,156240,163450,168180,173540,179870,183470,186290,191770,197350,206430,210420,213300,215040,216850,221630,227750,232620,236250,241130,244170,249100,255750,258380,261700,266560,270670,274460,276560,278520,283610,289200,290860,295790,298530,304920,309370,314870,318510,322080,326800,330070,338390,343320,344610,348680,351960,354010,355890,359270,362150,370450,375430,377760,380120,382250,387210,389340,392080,400200,404450,408110,412350,415010,419020,423820,425590,428730,430360,433820,438450,442930,446470,450100,454900,456370,461820,464790,469250,471480,474900,479390,484470,489600,493580,493950,495590,500220,505450,509720,510680,511490,513860,516800,522020,525260,527570,531840,534120,537860,542750,546270,553380,558580,561140,563210,567230,571380,574190,577310,581740,585650,589860,596150,597650,608660,615230,616550,618540,626960,630140,631890,635220,644140,648880,652760,659530,660210,662200,665760,670370,671770,674710,682850,685740,689240,692980,696760,699820,706150,710650,715980,718160,721280,726270,731660,736390,738140,740340,747260,750680,751600,752910,759610,763040,764680,766870,770950,774590,775850,778420,780730,783070,789480,792610,795340,796680,798660,803800,804830,808960,810270,817550,821190,825090,827270,834370,837840,841110,843030,846950,850920,854620,861520,866130,871320,874240,877680,880160,881680,883870,886130,890660,894970,898800,902710,906950,910870,911830,915140,917990,920940,922980,925160,926330,928230,929270,930020,935300,936710,938790,944410,948190,951640,953540,957260,958320,963670,964860,968990,974030,975410,978810,980650,984640,986650,989100,991310,994370,996510,998540,1001970,1006710,1015590,1017060,1018370,1024610,1026740,1035320,1036660,1039690,1042700,1049140,1051400,1056290,1058420,1059160,1062640,1066500,1069090,1071350,1078470,1081340,1085110,1088910,1095510,1097730,1101760,1102770,1103300,1108910,1111700,1114700,1116460,1119030,1122890,1126230,1128980,1129740,1132890,1136420,1140020,1142980,1143960,1146020,1150070,1151120,1153850,1158000,1161260,1166080,1171710,1172580,1181110,1183460,1185250,1188480,1192780,1195050,1199500,1204730,1206240,1214350,1216300,1220060,1224690,1225720,1228620,1232110,1235750,1243870,1245040,1248140,1253690,1258040,1260660,1263190,1270650,1272690,1276490,1279400,1285240,1288540,1291630,1297590,1301850,1305250,1307790,1309520,1310470,1311770,1316880,1317150,1318430,1320600,1323860,1324700,1329250,1332040,1332760,1334960],"text":["PROFESSOR: OK.","Let's step through a couple of A star examples in this video.","Here's our first example.","We have a state spacecraft.","We have for each state the heuristic values listed here.","And we're going to do a search-tree visualization of","the A star tree search.","The start state is S and the goal state is G. When we start out, we just","have the root of the search tree, which has the state S in it.","And together with the state, we will store the f value, which consists of e","and h So for S, the g cost is 0.","No cost has been incurred yet to reach S because that's where we start.","And the h value, that's the heuristic that we look up in the table.","For S, we have 7, so 0 plus 7, which is 7.","An A star search will consider all nodes in the tree that have not been","expanded yet and expand the one that has the lowest f cost.","There's only one node in the tree.","So that's the one with the lowest f cost.","We expand it.","The successors for S are A and B. We have a partial plan SA.","And we have an f cost which consists of g plus h, which is equal to-- for","g, we look up the g cost in the previous node, which is 0, and add the","cost of making this last transition from S to A, which is 1.","And then for h, we look up in the table here, 6.","Second successor of S is B. The f cost consists of g and h.","For g, we look up at the parent node what the g cost was for.","Then we add the cost for making that last transition here, S","to B, which is 4.","And then for the heuristic value, we look up the heuristic in the table for","B, which is 2.","So we have a node with f cost of 7 and a node with f cost of 6.","6 is the lowest so that's the next one A star consider for expansion.","When we expand B, B has only one successor, C. So we'll get one child","node here, SBC, with f consisting of g and h.","And to find g, we look at the parent node for the g cost to reach the","parent, which is 4.","And then we add the cost for the last transition B to C, which is 2.","And then for the h cost, we look up in the heuristic table heuristic for C","which is 1.","So we end up with 7 total.","A star search will look at the nodes that haven't been expanded yet.","There are two of them, SA and SBC.","Both of them have an f cost of 7.","We're doing alphabetical tie-breaking.","SA comes alphabetically before SBC.","So we expand SA first.","A has three successors.","And go to B, to C, and to G. For go to B, we have a partial plan SAB with an","f cost, which consists of g and h.","For g, again, we take the parent's g cost which is 1.","We add on the cost for this last transition from A to B, which is 2.","The heuristic value is the one for B, which is also 2.","So we end up with an f cost of 5.","The second successor for A is C. So we have SAC.","F cost consists of g and h.","g consists of the parent's g cost, which is 1, plus the g costs for the","transition AC, which is 5.","And then the heuristic value, we look up in the table the entry","for C, which is 1.","So we end up with 7.","And for the third successor of A, which is G, we have SAG.","f again consists of g and h.","For g, we look up the parent g cost and add the transition costs for the","last transition that we just added, A to G, which is 12.","And the heuristic value we look up in the table for G here is 0.","So this one has an f cost of 13.","A star proceeds by looking at all the nodes that have not been expanded yet","and first considering the one with the lowest f cost, which is SAB over here.","Note that-- and this is really important-- that at this point,","amongst the nodes we have not expanded yet, there are four of those.","There is SAB, SAC, SAG, and SBC.","One of them, namely SAG, ends in the goal state.","It's important to keep in mind that it's not just because we reach the","goal here that we're done.","We have to wait till we expand.","We are expanding a node that reaches the goal state to declare success.","So at this point, we are expanding again the one with the lowest f cost,","which is SAB.","Expanding that one, how many successors that B had, B has one","successor C. So we're going to end up with SABC.","The f cost for this node consists of g and h.","g, we look up the parent's g cost, 3.","We add the cost for the transition B to C, which is 2.","And for h, we look up the heuristic value for C, which is 1.","And we end up with a total of 6.","6 is the lowest f cost of all nodes that have not been expanded yet.","So we're expanding SABC next.","C has just one successor, G. So we end up with SABCG and f costs, which","consist of g and h, where for g, we have to look up the parent's g cost,","which is 5.","Add the cost of the last transition C to G, which is 3.","And then add the heuristic value of the last node G, which is the","heuristic value of 0.","We end up with 8.","We do alphabetical tie-breaking, making a start with SAC.","C has one successor, G. So we end up with SACG.","The f cost is consisting of g plus h.","g consists of the parent's g cost, which is 6, plus the transition C to","G's cost, which is 3.","And then the heuristic at the goal state is 0.","So we end up with 9.","SBC is the node that has not been expanded yet with the lowest f cost.","So we expand that one next.","C has only one successor, G. So we end up with SBCG.","It has an f cost that consists of g and h.","For g, we look up the g cost of the parent, which is 6.","We add the cost of the CG transition, which is 3.","And then we have to add the heuristic value which is 0 here.","So we end up with 9.","Of the nodes currently in consideration for expansion, we have","one of cost 8, one of cost 9, one of cost 13, one of cost 9.","8 is the lowest.","So we'll expand this one next.","This one ends in the goal state.","And when we are about to expand a node that ends in the goal state, that","means we're done and we're return that node as our solution to the problem.","So in this case, our solution is SABCG.","And the cost of that path is 8.","Is SABCG optimal?","Well, for A star tree search, we have the guarantee that it will return the","optimal solution.","So it is optimal if the heuristic h is admissible.","To find out whether h is admissible, we need to look at all these entries","here and verify that they are indeed underestimates of the shortest path to","a goal state from those states.","Not going to step through that here, but indeed, it can be verified that","each of these are underestimates of the cheapest path to a goal state.","So we have that indeed, SABCG is optimal.","Now, let's run A star tree search again.","But visualize our process with a priority queue rather than a","search-tree.","Same problem as before.","Our priority queue will start with just one entry, S. And the f cost for","S is 0 for the g cost plus 7 for the heuristic.","A star tree search will look at the priority queue, pop the node with the","highest priority.","There's only one.","So that that one node is the one that's going to be popped.","And put all its successors into the priority queue.","S has two successor states, A and B, so we get SA and SB.","And for the f cost associated with them, we have the g","cost plus an h cost.","And the g cost is the cost of the parent node, S plus the cost of the","transition SA, which is 1.","The heuristic is the heuristic for A, which is 6.","And for SB, we also have a g cost of 0 plus now the cost from S to B, which","is 4, plus the heuristic value for B, which is 2.","Next, A star tree search will pop the one with the highest priority as it always","does, which is the one with the lowest f cost, which is SB, with","an f cost of 6.","SA stays in the queue.","B has one successor, C. So we end up with SBC.","The g cost is the g cost of its parent node, 4 plus the cost for the","transition from B to C, which is 2.","And the heuristic value for C is 1.","Popping the one with the lowest f cost, in this case, there's a tie.","Alphabetical tie-breaking makes us pick SA before SBC.","A has three successors, leading us to the following priority queue.","The g cost for SAB is 1 from the parent node plus 2 for the AB","transition.","And then adding h, which is 2 for B, the second successor of AC with SAC,","the f cost consisting of g plus h, we have for g 1 from the parent plus 5","for the transition.","And for h, we have 1.","And then the third successor phase G, and here we end up with a g cost also","of 1 from the parent, plus 12 for the transition now,","plus 0 for the heuristic.","And then we still have SBC on the priority queue.","So I'll put it down here, SBC, with a g cost of 6 and a heuristic of 1.","Now, the lowest cost is 5, which is found over here.","We pop SAB from the priority queue.","B has one successor, C. The g cost is 3 from the parent plus 2 from the","transition.","The heuristic value for C is 1.","And then we retain all the other ones.","Now, the node with the lowest f cost, SABC with an f cost of 6,","we expand that one.","C as one successor, G. So we end up with SABCG.","G contribution is 5 from the parent plus 3 from the CG transition.","Then the heuristic value of G is 0.","And we retain the other three.","Now, with the lowest f cost is a tie.","There is SAC with 7 and there is SBC with 7.","Alphabetical tie-breaking makes us pick SAC first.","SAC has one successor, G. C has one successor, G. So we end up expanding","that into just one node, SACG.","The g cost comes from the parent, 6 plus transition CG 3.","And the heuristic at G is 0.","And the other ones we just retain on the priority queue.","Now, the one with the lowest f cost is SBC with an f cost of 7.","C is one successor, G. We end up with putting one new node, SBCG.","The g cost consists of 6 from the parent plus 3 from the transition CG.","And the heuristic value of G is 0.","And we copy the other three over.","Now, the one with the lowest f cost is SABCG, has an f cost of 8.","We're about to expand this one, but we notice that it ends in the goal state.","That means we are done.","We declare success.","We have SABCG as a solution found by A star tree search.","We discussed in the previous slide why this is the optimal solution.","Now, let's move on to graph search.","As a reminder, what's the difference between tree search and graph search?","In graph search, when you are about to expand a node, you check whether you","ever expanded a node that ends in the same state as the node you're","currently about expand.","If that's the case, you don't expand the current node.","You just take it out of the priority queue.","And that's it.","So you avoid reexpanding plans that lead into the same state.","I'm actually going to do a search tree visualization.","But the search tree is perhaps a slightly more interesting","visualization to look at.","So let's start with the root.","We just have S with an f cost of 0, plus the heuristic at f, which is 7.","We start graph search.","We'll look at the nodes currently available for expansion.","So that's just S.","S has two successors, A and B. We expand SA, which has an f cost","consisting of g plus h where g consists of the g cost of the parent,","which is 0, plus the cost of the transition, which is 1.","And then the heuristic value for A is 6.","And for B, we have a g cost from the parent of 0, plus a cost for the SB","transition of 4, plus a heuristic value of 2.","We have expanded S. And so in A star graph search, what we do, we have a","separate thing called a Closed List.","This keeps track of states we have expanded in the past.","And this Closed List now contains S.","SB has the lowest f cost, f cost of 6.","So we expand B. B has one successor, C. So we end up with SBC.","g cost of 4 from the parent, plus 2 from the transition, and an h cost for","C of 1-- we have expanded the state B. So it goes into our Closed List.","Both nodes have an equal f cost of 7.","Alphabetical tie-breaking makes us pick SA first for expansion.","A has three successors.","We have SAB.","We have SAC.","And we have SAG.","The f cost for SAB consists of g, which is 1 from the parent, plus 2 for","the transition, plus 2 from the heuristic value for B. For SAC, we","have an f cost that consists of g cost, which has 1 from the parent,","plus 5 from the transition, and then the heuristic value for C is 1.","And for the last one here, SAG, we have g cost, which has a contribution","of 1 from the parent, 12 from the AG transition, and then a","heuristic value of 0.","At this point, we've expanded A. A goes onto our Closed List.","Now, let's look at which one has the lowest f cost.","We have 5 here which is the lowest, SAB.","So we're considering SAB for expansion.","It turns out, however, B has already been expanded.","It's in our Closed List.","So we don't expand this one.","We're done with that range.","Which one is next?","In terms of f cost, we have SAC with 7 and we have SBC with 7.","We'll do alphabetical tie-breaking.","So SAC will get expanded.","C has one successor, G. We have one child here, SACG with an f cost","consisting of g and h. g consists of the g cost of the parent, which is 6,","plus the cost of the transition which is 3, and then the heuristic value of","G is 0, for a total of 9.","Completes the expansion of this node with the [INAUDIBLE] at C. So C goes","onto our Closed List.","Looking at our nodes, we have 9 here, we have 13 here, and 7 here.","7 is next.","So we consider SBC for expansion next.","The last state here, C, is, however, in our Closed List, which means we","don't expand.","We just stop this branch in the search tree.","And we move on to the next one.","And the next lowest one here is SACG with 9.","We consider this one for expansion.","We notice that it reaches the goal state.","So we declare success.","We've found a path to the goal, SACG.","And it has a cost of 9.","Is this optimal?","Well, we saw before that there's a path that's cheaper than 9.","In fact, the path that we found before running A star tree search was one that","ran from S to A, to B, to C, and to G for a total cost of 8, which","is less than 9.","So what happened here?","We ran an A star graph search and we ended up with a solution that has a","cost of 9, which is not optimal.","What happened here is that we are using a heuristic that is not","consistent.","And because the heuristic is not consistent, we are not guaranteed that","A star graph search will find the optimal path.","Indeed, the optimal path, which we know is SABCG, did not get explored.","Because when we were going down the search tree in the direction that","would lead to that path which is over here, we decided not to expand SAB","because B was already in the Closed List.","How did that happen?","Well, because the heuristic is not consistent, it happened to be the case","that we already expanded B in a different part of the search tree.","And when we expanded B in a different part of the search tree, we had","reached B in a more expensive way.","And so this cheaper way of reaching B through A was not explored.","So where is that inconsistency in the heuristic?","Let's write down the condition for h to be consistent.","Condition is that for all S and S prime where we can go from S to S","prime, it needs to be the case that hs minus hs prime is less than or equal","to the cost to go from S to S prime.","Now, let's see if we can find the violation in our problem here.","Yes!","Found it.","Let S be A and S prime be B. Then we have the condition ha minus hb should","be smaller than or equal to 2.","ha is 6. hb is 2.","We have now 6 minus 2 is 4.","It should be smaller than 2, which is not the case.","So we have a violation of our consistency condition.","And that's why we don't have the guarantee here that A star graph","search would find an optimal path.","Let's move on.","Let's again use the search tree visualization because it's a little","more compact and conveys a little more information.","And we have now updated our heuristic h to be consistent.","You can verify that the consistency condition is satisfied for these","heuristic values.","Let's run our A star graph search again.","We start with S with an f cost consisting of g and h.","g is 0.","h, we read off from the table as 7.","We expand S, which puts S on our Closed List.","S has two successors, A and B. So we have SA.","The f cost for SA is the g cost of the parent, which is 0, plus the costs for","transition SA, which is 1, plus the cost from the heuristic value at A,","which is 6.","And we have for SB a g cost of 0, plus 4, plus the heuristic value of 4.","We have expanded S, which is in our Closed List now.","Who's up next for expansion?","7 versus 8, 7 is a lower f cost.","So we'll expand SA, which will put A on our Closed List.","A has three successors, B, C, and G.","So we're going to have SAB with an f cost consisting of g and h.","g is 1 from the parent, plus 2 from the transition, plus the heuristic","value at B, which is 4.","Then for SAC, we have an f cost of 1 from the g cost of the parent plus 5","from the transition AC.","And then we add the heuristic value at C, which is 2.","And then lastly, we have SAG, which has an f cost consisting of","a g and an h cost.","The g has 1 from the parent.","And we add 12 for the AG transition.","And the heuristic value at G is 0.","So now, we have a 7 here, 8 here, 13 here, and 8 over here.","7 is the lowest.","So we'll expand SAB first.","So we expand B. B has one successor, C. We have SABC.","The g cost is 3 from the parent plus 2 from the transition.","The h cost is 2.","We have expanded B so we put it on the Closed List.","Now again, the lowest f cost is down this branch.","We expand SABC.","C has one successor G. So we end up with SABCG.","The f cost consists of a g cost and an h cost.","The g cost is 5 from the parent, plus 3 from the transition, and then plus","an h cost of 0 at the goal state for a total of 8.","We put C on our Closed List.","Now, the next one with the lowest f value, there's the three-way tie.","There is SABCG, there is SAC, and there is SB.","SABCG comes alphabetically first.","So that's one we'll expand first.","This one ends in the goal state.","That means we're done.","We declare success.","And we return SABCG as our solution.","[COMPUTER BELL RINGS]","And it has a cost of 8.","This is the optimal path.","We're guaranteed this is the case because the heuristic we have here is","a consistent heuristic.","An A star graph search is guaranteed to return an optimal solution when you","have a consistent heuristic.","OK.","That's it for our A star search examples."]}