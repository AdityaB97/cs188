{"start":[0,1930,4670,6980,8860,12010,16940,22010,23620,26230,28200,30390,33260,37370,41130,43900,45160,48490,50020,51800,52720,54090,56890,59660,61690,62790,66050,67030,70660,72010,75100,77940,80450,82020,85130,88780,91470,93270,96210,99280,103210,104710,107800,109370,110940,115620,120110,124480,127550,130240,132130,135690,136460,138130,141590,145390,147930,148870,150730,152380,154750,156530,159730,161850,162950,166275,167510,169730,172860,174300,177820,179010,180780,182910,187490,188310,190380,192350,194240,196010,199270,200240,201160,203100,204340,205480,209390,212110,213690,216750,218710,222340,223790,227020,228470,231540,233870,239130,241310,246670,248750,252570,254690,257970,259480,263030,266730,268530,269620,271420,274020,276970,277720,280680,283490,285320,289070,291060,293280,294070,295750,299640,302830,304310,306730,307710,309750,312100,316150,319470,321620,323630,324880,327260,329750,331610,333490,334610,337930,341390,343450,345220,348820,352270,354260,356390,358770,359415,361200,366250,367720,370240,372670,376170,377630,379110,381070,383930,387410,390920,392300,393770,396760,398370,400090,403160,405570,408940,412300,415140,418450,420420,422590,424190,427000,430280,431250,432650,434060,436510,440490,441970],"end":[1930,4670,6980,8860,12010,16940,22010,23620,26230,28200,30390,33260,37370,41130,43900,45160,48490,50020,51800,52720,54090,56890,59660,61690,62790,66050,67030,70660,72010,75100,77940,80450,82020,85130,88780,91470,93270,96210,99280,103210,104710,107800,109370,110940,115620,120110,124480,127550,130240,132130,135690,136460,138130,141590,145390,147930,148870,150730,152380,154750,156530,159730,161850,162950,166275,167510,169730,172860,174300,177820,179010,180780,182910,187490,188310,190380,192350,194240,196010,199270,200240,201160,203100,204340,205480,209390,212110,213690,216750,218710,222340,223790,227020,228470,231540,233870,239130,241310,246670,248750,252570,254690,257970,259480,263030,266730,268530,269620,271420,274020,276970,277720,280680,283490,285320,289070,291060,293280,294070,295750,299640,302830,304310,306730,307710,309750,312100,316150,319470,321620,323630,324880,327260,329750,331610,333490,334610,337930,341390,343450,345220,348820,352270,354260,356390,358770,359415,361200,366250,367720,370240,372670,376170,377630,379110,381070,383930,387410,390920,392300,393770,396760,398370,400090,403160,405570,408940,412300,415140,418450,420420,422590,424190,427000,430280,431250,432650,434060,436510,440490,441970,443220],"text":["","DAN KLEIN: So here's that example of map coloring that I promised you.","In map coloring, we've got some map.","And what we'd like to do is make it colorful.","So we're going to assign a color to different countries on the map.","And we want to make sure that adjacent countries don't have the same color.","So in the recurring example we'll have for today, the variables in this are","going to be the countries in the map.","And in this case, we're going to be coloring in Australia.","And so they're actually called states.","So here are the states of Australia.","There's Western Australian in the west, the Northern Territory in the","north, South Australia in the south, Queensland up in the northeast, New","South Wales over in the east, Victoria in the southeast, and then Tasmania is","some island that's disconnected from the rest.","So here are our variables.","Make sure you kind of eyeball this for a second now because we're going to","see this example over and over.","So here are our variables in the problem.","What are the domains?","Well, they all have the same domain.","They can all take on either red, green, or blue, if this is a","three-coloring problem here, and our colors are red, green, and blue.","So this is going to be our recurring example.","So what are the constraints?","If we just had variables and domains, we could just color everything red.","And then we'd be happy.","But this wouldn't satisfy the constraint that adjacent states have","to be different colors.","So if we want to have this constraint, we need to write it down.","One way to write it down is what's called an implicit constraint.","In an implicit constraint, we write down a little snippet of what","basically amounts to code.","We write down some procedural way of checking a constraint.","So one constraint-- for example, the constraint on Western Australia and","the Northern Territory, which are touching in the map--","we can write down that they're not equal.","OK, this isn't a very heavy-duty code snippet.","But this is something you would have to evaluate to check to see whether or","not Western Australia and the Northern Territory have a happy combination of","assignments.","We could also take this implicit constraint, which is a constraint","between WA and NT.","And we could write it out explicitly.","So we could write down that the pair WA, NT has to be contained in-- and","then we list a set of allowable values in the cross-product of the domains.","So implicit means it's described implicitly by a code snippet.","Explicit means we actually list all of the allowed pairs","or triples or whatever.","What's a solution to this problem?","A solution is just an assignment that satisfies all of the constraints.","So here's one.","This is the one that's shown.","Western Australia's red, the Northern Territory's green, and so on.","So in order to be a solution, you have to assign a value to every variable.","And all the constraints need to be met.","That's map coloring.","Here's another example we'll see a lot today.","This is the N-Queens problem.","So in the N-Queens problem, we have a chessboard.","In this case, it's a four by four chessboard.","And what we'd like to do is we'd like to place N-- in this case, four--","queens on that chessboard in a way that they aren't","threatening each other.","So if you know anything about chess, you know that queens in the same row","can attack each other.","Queens in the same diagonal can attack each other.","And we'd like to be able to find a configuration like the one shown where","nobody's threatening anybody else.","And it's all a wonderful, peaceful kingdom.","So how are we going to do this?","Well, here's one formulation.","One formulation is we need some variables.","So let's make the variables be each square on the chessboard is going to","have a variable.","So we'll call those Xij.","And each of those variables is going to indicate what's","happening on that square.","So what can be happening on a square?","It can either be queened or empty.","So we'll write that down.","0 will mean empty.","And 1 will mean that there's a queen there.","OK, so there's variables.","There's the domains.","And an assignment can specify what's going on on the board.","So far, we could just stick queens everywhere, or nowhere.","So we need some constraints.","What are the constraints in this problem?","Well, we know what they mean intuitively.","Intuitively they mean that we can't have any threatening","between a pair of queens.","So what we could do is we could pick all of the squares that exist in a","threatening configuration.","For example, take any two squares in the same row or column.","And we could write down a bunch of constraints that look like this.","So for example, for a given i-- so that's, say, in a fixed row--","we look at all columns j and k.","And we say for Xij and Xik, that pair can only be assigned 0, 0--","meaning there's not a queen in either square--","0, 1 or 1, 0, meaning exactly one of them has a queen.","And you'll notice that what's missing is 1, 1.","And that's because for one value of i, j, and k--","that would be here and here.","And if they were both assigned 1, then we would have a threatening pair.","And that would be invalid according to our constraints.","So this set of constraints-- and there's a bunch of them.","I wrote them-- there's a quantifier there.","There's actually a bunch of constraints.","This takes care of threatening across rows.","We also need threatening across columns and threatening across left","and right diagonals.","So we would get a bunch of similar-looking constraints.","Basically, for any pair that can threaten, we get a constraint on that","pair saying, you both can't be on.","This constraints are simple, but there are a bunch of them.","OK, am I done?","Does satisfying these constraints solve my problem?","I heard a no.","Why not?","For example, right now with these constraints, we have a problem, which","is assigning 0 everywhere-- an empty board-- satisfies the constraints.","We prevented threatening queens.","But we haven't made sure that there are actually queens","anywhere on the board.","In particular, we haven't made sure that there are N of them.","So we could also write down a constraint that looks like this.","Over all i and j, the sum of Xij equals N. Now, notice the constraints","on the left as I've written them are explicit constraints.","The constraint on the right is an implicit constraint.","You evaluate a snippet of code in order to figure out","whether it's passed.","The constraint on the right would be a pretty hard thing to write out","explicitly.","Here's another formulation of N-Queens.","We'll see which one we like better.","So here's another formulation.","In this formulation, we say, wait a minute.","Actually, we know, based on the structure of the problem, that every","row has a queen somewhere.","So let's make a variable for each row.","So Q sub k will be where the queen is in row k.","So for example, Q sub 1 here is where the queen is in row one.","And it would take on the value 2 to indicate it's in the","column number two.","Here, the domains now are not 0 and 1.","They're not binary.","Or rather, they indicate a column.","So they'll go from 1 to N. We can still represent a solution.","What about the constraints?","Well, constraints actually get a little more difficult here.","For constraints, we could write out some implicit constraints that say,","for example, for all i and j-- so for all pairs of rows--","we would look at those two rows.","And we'd figure out the non-threatening","constraint between them--","basically says, queen i and queen j can't threaten.","And so we'd have to write that out and say, OK, well, for rows one and two,","that means they can be in positions one and three respectively, one and","four respectively, and so on.","And we could just list them.","So again, the implicit constraint here-- in this particular case, it's","probably easier to write it out explicitly.","Because you know exactly what the configurations are.","And there aren't that many of them for a pair.","So two very different formulations.","The first one had more variables but simpler domains.","The first one had more constraints but simpler constraints.","Which one do you think is better?","So first of all, there are a lot of ways to formulate constraint","satisfaction problems.","And in some cases, you don't actually know which one's going to be better","until you try.","In this particular case, we would expect formulation two to be better.","Because it encodes knowledge of the problem, kind of by the structure of","the variables and constraints.","We know we're going to get a queen in every row.","We're not going to get two in every row.","And there are lot of things the other problem is trying to enforce via","constraints and assignments that here is just baked into the formulation.","And in general, that's going to be an advantage.",""]}